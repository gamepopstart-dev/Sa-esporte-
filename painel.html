<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>SA ESPORTE - Profissional</title>

<style>
body{
    font-family: Arial;
    background:#0c0f1a;
    color:white;
}

.topo{
    background:#11162a;
    padding:15px;
    display:flex;
    justify-content:space-between;
}

.saldo{
    color:#00ff88;
    font-weight:bold;
}

.jogos{
    padding:20px;
}

.jogo{
    background:#1a1f38;
    padding:15px;
    margin:10px;
    border-radius:10px;
}

button{
    background:#00ff88;
    border:none;
    padding:10px;
    margin:5px;
    cursor:pointer;
    font-weight:bold;
}

.bilhete{
    position:fixed;
    right:0;
    top:60px;
    width:250px;
    background:#11162a;
    padding:15px;
    height:100%;
}

input{
    width:100%;
    padding:10px;
}
</style>

</head>
<body>

<div class="topo">

<div>
Usu√°rio: <span id="usuario">Visitante</span>
</div>

<div class="saldo">
Saldo: R$ <span id="saldo">1000.00</span>
</div>

</div>

<div style="padding:10px">
<input placeholder="Digite seu nome" id="nomeInput">
<button onclick="entrar()">Entrar</button>
</div>

<div class="jogos" id="jogos"></div>

<div class="bilhete">

<h3>Bilhete</h3>

<div id="bilhete"></div>

<input type="number" id="valorAposta" placeholder="Valor">

<button onclick="apostar()">Apostar</button>

</div>

<script>

let usuario = ""
let saldo = 1000
let apostaAtual = null

function entrar(){

usuario = document.getElementById("nomeInput").value

document.getElementById("usuario").innerText = usuario

}

function atualizarSaldo(){
document.getElementById("saldo").innerText = saldo.toFixed(2)
}

function selecionar(time, odd){

apostaAtual = {
time,
odd
}

document.getElementById("bilhete").innerHTML =
usuario + "<br>" +
time + "<br>" +
"Odd: " + odd

}

function apostar(){

let valor = document.getElementById("valorAposta").value

if(valor > saldo){

alert("Saldo insuficiente")
return

}

saldo -= valor

atualizarSaldo()

alert("Aposta realizada!")

}

async function carregarJogos(){

let response = await fetch("https://api-football-v1.p.rapidapi.com/v3/fixtures?live=all",{

headers:{
"x-rapidapi-key":"144aa991d7cd08d8f337c28d3ad2bbeb",
"x-rapidapi-host":"api-football-v1.p.rapidapi.com"
}

})

let data = await response.json()

let jogosDiv = document.getElementById("jogos")

jogosDiv.innerHTML = ""

data.response.forEach(jogo=>{

let casa = jogo.teams.home.name
let fora = jogo.teams.away.name

let odd1 = (Math.random()*3+1).toFixed(2)
let odd2 = (Math.random()*3+1).toFixed(2)

jogosDiv.innerHTML += `

<div class="jogo">

${casa} vs ${fora}
<br><br>

<button onclick="selecionar('${casa}', ${odd1})">
${casa} ${odd1}
</button>

<button onclick="selecionar('${fora}', ${odd2})">
${fora} ${odd2}
</button>

</div>

`

})

}

carregarJogos()

</script>

</body>
</html>
